return n - abs((n+1) - q) if q <= n*2 else 0
